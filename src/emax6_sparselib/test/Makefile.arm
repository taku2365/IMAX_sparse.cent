PROJTOP	      = ../../
OPTION        = -mstrict-align  -DCYCLECNT -DARMZYNQ -DEMAX6 -DFPDDMA
PROGRAM       = test_chipA_div+dma test_chipB_div+dma 
CPP           = cpp -P
CC            = gcc
CFLAGS        = -I. -O3 -g3 $(OPTION)
AS            = as
ASFLAGS       = 
LD            = gcc
LDFLAGS       =  -L../
LIBS          = -lm -lc -lX11 -lXext -lsparse
LIBFLAGS      = 
OBJS	      =	test_chipB_div-emax6.o test_chipA_div-emax6.o 
INCLUDE = -I../Include
all:		$(PROGRAM)
SHARED_LINK = 0
SHARED_PATH =
LINK_FORMAT = static


test_chipA_div+dma:     test_chipA_div.o
		$(CC) $(INCLUDE)  $(LDFLAGS) -o $@ $< $(LIBFLAGS) $(LIBS)

test_chipA_div.o:	test_chipA_div.c 
		$(CC) $(INCLUDE)  $(CFLAGS) -c $<


test_chipB_div+dma:     test_chipB_div.o
		$(CC) $(INCLUDE)  $(LDFLAGS) -o $@ $< $(LIBFLAGS) $(LIBS)

test_chipB_div.o:	test_chipB_div.c 
		$(CC) $(INCLUDE)  $(CFLAGS) -c $<


#test025-emax6.o: $(PROJTOP)/conv-c2c-20210801/emax6.h $(PROJTOP)/conv-c2c-20210801/emax6lib.c ../Include/emax6_sparselib.h
#
#test025-zynq.emax6+dma:     test025-emax6.o
#		$(CC) $(INCLUDE)  $(LDFLAGS) -o $@ $< $(LIBFLAGS) $(LIBS)
#
#test025-emax6.o:	test025-emax6.c 
#		$(CC) $(INCLUDE)  $(CFLAGS) -c $<
#
#test025-emax6.c:	test025.c
#		perl $(PROJTOP)/src/conv-mark/conv-mark $< > $<-mark.c
#		$(CPP) $(OPTION) $(INCLUDE)  $<-mark.c > $<-cppo.c
#		$(PROJTOP)/conv-c2c-20210801/conv-c2c $<-cppo.c
#
#
#
#test025-emax6.o: $(PROJTOP)/conv-c2c/emax6.h $(PROJTOP)/conv-c2c/emax6lib.c ../Include/emax6_sparselib.h
test_chipA_div.o: $(PROJTOP)/conv-c2c/emax6.h $(PROJTOP)/conv-c2c/emax6lib.c ../Include/emax6_sparselib.h ../libsparse.a
test_chipB_div.o: $(PROJTOP)/conv-c2c/emax6.h $(PROJTOP)/conv-c2c/emax6lib.c ../Include/emax6_sparselib.h ../libsparse.a


# $(MAKE)はマクロも引き継がれる


clean:		
		rm -f *.o core *~ *-mark.c *-cppo.c *-emax6.c 

